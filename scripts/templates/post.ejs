<article class="max-w-3xl mx-auto px-6">
    <header class="text-center mb-16">
        <div class="flex items-center justify-center gap-4 text-sm text-neutral-500 mb-6 font-mono">
            <% if (author) { %>
                <div class="flex items-center gap-2">
                    <div class="w-6 h-6 rounded-full bg-neutral-800 flex items-center justify-center">
                        <iconify-icon icon="lucide:user" class="text-neutral-400"></iconify-icon>
                    </div>
                    <span>
                        <%= author %>
                    </span>
                </div>
                <% } %>
                    <span>•</span>
                    <time datetime="<%= date %>">
                        <%= new Date(date).toLocaleDateString('en-US', { year: 'numeric' , month: 'long' ,
                            day: 'numeric' }) %>
                    </time>
                    <!-- <span>•</span>
            <span><%= readingTime %> min read</span> -->
        </div>

        <h1 class="text-3xl md:text-5xl font-bold text-white mb-8 tracking-tight leading-tight">
            <%= title %>
        </h1>

        <div class="flex justify-center gap-2 flex-wrap">
            <% if (tags && tags.length> 0) { %>
                <% tags.forEach(tag=> { %>
                    <span class="blog-tag">
                        <%= tag %>
                    </span>
                    <% }); %>
                        <% } %>
        </div>
    </header>

    <% if (hero) { %>
        <div class="mb-16 rounded-2xl overflow-hidden glass-panel border border-white/5">
            <img src="<%= hero %>" alt="<%= title %>" class="w-full h-auto" onerror="this.src='/public/banner.png';this.onerror=null;" />
        </div>
        <% } %>

            <div class="prose-enhanced">
                <%- content %>
            </div>

            <div class="mt-20 pt-10 border-t border-white/5 text-center">
                <h3 class="text-white text-xl font-medium mb-6">Explore more insights</h3>
                <a href="/blog/" class="glass-button px-6 py-3 text-sm font-bold">
                    VIEW ALL POSTS
                </a>
            </div>
</article>

<% if (typeof relatedPosts !== 'undefined' && relatedPosts && relatedPosts.length > 0) { %>
<section class="mt-16 mb-8">
    <div class="max-w-6xl mx-auto px-6">
        <h3 class="text-white text-xl font-medium mb-6">Related Articles</h3>
        <div class="flex gap-4 overflow-x-auto pb-4 snap-x snap-mandatory scrollbar-hide">
            <% relatedPosts.forEach(post => { %>
            <a href="/blog/<%= post.slug %>/" class="blog-card-link group min-w-[320px] max-w-[320px] snap-start flex-shrink-0">
                <div class="glass-panel p-6 rounded-3xl border border-white/5 hover:border-white/20 transition-all duration-300 relative overflow-hidden h-full">
                    <div class="light-torch opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
                    <div class="relative z-10">
                        <h4 class="text-lg font-semibold text-white mb-2 group-hover:text-sky-400 transition-colors line-clamp-3">
                            <%= post.title %>
                        </h4>
                        <p class="text-neutral-400 text-sm mb-4 line-clamp-2">
                            <%= post.description || '' %>
                        </p>
                        <div class="flex flex-wrap gap-2">
                            <% if (post.tags && post.tags.length > 0) { %>
                                <% post.tags.slice(0, 3).forEach(tag => { %>
                                    <span class="blog-tag text-xs"><%= tag %></span>
                                <% }); %>
                            <% } %>
                        </div>
                        <span class="text-xs text-neutral-500 mt-4 block">
                            <%= new Date(post.date).toLocaleDateString('en-US', {month:'short', day:'numeric', year:'numeric'}) %>
                        </span>
                    </div>
                </div>
            </a>
            <% }); %>
        </div>
    </div>
</section>
<% } %>

<!-- Breadcrumb Schema -->
<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "name": "Home",
        "item": "https://conthunt.app"
    },{
        "@type": "ListItem",
        "position": 2,
        "name": "Blog",
        "item": "https://conthunt.app/blog"
    },{
        "@type": "ListItem",
        "position": 3,
        "name": <%= JSON.stringify(title) %>,
        "item": "<%= canonical %>"
    }]
}
</script>
